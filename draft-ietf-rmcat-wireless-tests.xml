<?xml version="1.0" encoding="US-ASCII"?>
<!-- This template is for creating an Internet Draft using xml2rfc,
     which is available here: http://xml.resource.org. -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" []>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<!-- used by XSLT processors -->
<!-- For a complete list and description of processing instructions (PIs), 
     please see http://xml.resource.org/authoring/README.html. -->
<!-- Below are generally applicable Processing Instructions (PIs) that most I-Ds might want to use.
     (Here they are set differently than their defaults in xml2rfc v1.32) -->
<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="4"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="yes"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="yes" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space 
     (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="yes" ?>
<!-- do not start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->
<rfc category="info" docName="draft-ietf-rmcat-wireless-tests-09"
     ipr="trust200902">
  <!-- category values: std, bcp, info, exp, and historic
     ipr values: full3667, noModification3667, noDerivatives3667
     you can add the attributes updates="NNNN" and obsoletes="NNNN" 
     they will automatically be output with "(if approved)" -->

  <!-- ***** FRONT MATTER ***** -->

  <front>
    <!-- The abbreviated title is used in the page header - it is only necessary if the 
         full title is longer than 39 characters -->

    <title abbrev="RMCAT Wireless Test Cases">Evaluation Test Cases for
    Interactive Real-Time Media over Wireless Networks</title>

    <author fullname="Zaheduzzaman Sarker" initials="Z." surname="Sarker">
      <organization>Ericsson AB</organization>
      <address>
        <postal>
        <street>Laboratoriegr&auml;nd 11</street>
        <city>Lule&aring;</city>
        <region></region>
        <code>97753</code>
        <country>Sweden</country>
        </postal>

        <phone>+46 107173743</phone>
        <email>zaheduzzaman.sarker@ericsson.com</email>
      </address>
    </author>

    <author fullname="Ingemar Johansson" initials="I." surname="Johansson">
      <organization>Ericsson AB</organization>
      <address>
        <postal>
        <street>Laboratoriegr&auml;nd 11</street>
        <city>Lule&aring;</city>
        <region></region>
        <code>97753</code>
        <country>Sweden</country>
        </postal>

        <phone>+46 10 7143042</phone>
        <email>ingemar.s.johansson@ericsson.com</email>
      </address>
    </author>

    <author fullname="Xiaoqing Zhu" initials="X" surname="Zhu">
      <organization>Cisco Systems</organization>
      <address>
        <postal>
        <street>12515 Research Blvd., Building 4</street>
        <city>Austin</city>
        <region>TX</region>
        <code>78759</code>
        <country>USA</country>
        </postal>

        <email>xiaoqzhu@cisco.com</email>
      </address>
    </author>

    <author fullname="Jiantao Fu" initials="J." surname="Fu">
      <organization>Cisco Systems</organization>
      <address>
        <postal>
        <street>771 Alder Drive</street>
        <city>Milpitas</city>
        <region>CA</region>
        <code>95035</code>
        <country>USA</country>
        </postal>

        <email>jianfu@cisco.com</email>
      </address>
    </author>

    <author fullname="Wei-Tian Tan" initials="W.-T." surname="Tan">
      <organization>Cisco Systems</organization>
      <address>
        <postal>
        <street>510 McCarthy Blvd</street>
        <city>Milpitas</city>
        <region>CA</region>
        <code>95035</code>
        <country>USA</country>
        </postal>
        
        <email>dtan2@cisco.com</email>
      </address>
    </author>

    <author fullname="Michael A. Ramalho" initials="M. A." surname="Ramalho">
      <organization abbrev="AcousticComms">AcousticComms Consulting</organization>
      <address>
        <postal>
        <street>6310 Watercrest Way Unit 203</street>
        <city>Lakewood Ranch</city>
        <region>FL</region>
        <code>34202-5211</code>
        <country>USA</country>
        </postal>

        <phone>+1 732 832 9723</phone>
        <email>mar42@cornell.edu</email>
      </address>
    </author>

    <date year="2020" />

    <!-- Meta-data Declarations -->

    <area>TSV</area>

    <keyword>Cellular Network</keyword>
    <keyword>Wi-Fi Network</keyword>
    <keyword>Congestion Control</keyword>
    <keyword>RTP</keyword>

    <abstract>
	  
    <t>The Real-time Transport Protocol (RTP) is a common transport choice for
      interactive multimedia communication applications. The performance of these
      applications typically depends on a well-functioning congestion control algorithm.
      To ensure a seamless and robust user experience, a well-designed RTP-based
      congestion control algorithm should work well across all access network types.
      This document describes test cases for evaluating performances of candidate
      congestion control algorithms over cellular and Wi-Fi networks.</t> 
    </abstract>
  </front>

  <middle>

  <section title="Introduction">
	 	    
  <t>Wireless networks (both cellular and Wi-Fi <xref target="IEEE802.11"></xref>)
  are an integral and increasingly more significant part of the Internet. Typical
  application scenarios for interactive multimedia communication over wireless include
  from video conferencing calls in a bus or train as well as live media streaming at home.    
  It is well known that the characteristics and technical challenges for supporting
  multimedia services over wireless are very different from those of providing the
  same service over a wired network. Although the basic test cases as defined in 
  <xref target="I-D.ietf-rmcat-eval-test"></xref> have covered many common effects of
  network impairments for evaluating RTP-based congestion control schemes, they remain
  to be tested over characteristics and dynamics unique to a given wireless environment. 
  For example, in cellular networks, the base station maintains individual queues per
  radio bearer per user hence it leads to a different nature of interactions between
  traffic flows of different users. This contrasts with the wired network setting where
  traffic flows from all users share the same queue. Furthermore, user mobility patterns
  in a cellular network differ from those in a Wi-Fi network. Therefore, it is important
  to evaluate the performance of proposed candidate RTP-based congestion control solutions
  over cellular mobile networks and over Wi-Fi networks respectively.</t>

  <t>The draft <xref target="I-D.ietf-rmcat-eval-criteria"></xref> provides the guideline
  for evaluating candidate algorithms and recognizes the importance of testing over wireless
  access networks. However, it does not describe any specific test cases for performance
  evaluation of candidate algorithms. This document describes test cases specifically
  targeting cellular and Wi-Fi networks.</t>
  </section>

  <section title="Terminologies">

  <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
    "OPTIONAL" in this document are to be interpreted as described in
    BCP 14 <xref target="RFC2119"></xref> <xref target="RFC8174"></xref>
    when, and only when, they appear in all capitals, as shown here.</t>

  </section>

  <section title="Cellular Network Specific Test Cases">

  <t>A cellular environment is more complicated than its wireline counterpart
    since it seeks to provide services in the context of variable available
    bandwidth, location dependencies and user mobilities at different speeds.
    In a cellular network, the user may reach the cell edge which may lead to
    a significant amount of retransmissions to deliver the data from the base
    station to the destination and vice versa. These radio links will often act
    as a bottleneck for the rest of the network and will eventually lead to
    excessive delays or packet drops. An efficient retransmission or link adaptation
    mechanism can reduce the packet loss probability but there will remain some
    packet losses and delay variations. Moreover, with increased cell load or
    handover to a congested cell, congestion in the transport network will become
    even worse. Besides, there exist certain characteristics that distinguish the
    cellular network from other wireless access networks such as Wi-Fi. In a
    cellular network -- </t>

    <t><list style="symbols">
      <t>The bottleneck is often a shared link with relatively few users.
      <list style="symbols">
        <t>The cost per bit over the shared link varies over time and is different
          for different users.</t>
        <t>Leftover/unused resources can be consumed by other greedy users.</t>
      </list>
  	  </t>

      <t>Queues are always per radio bearer hence each user can have many such queues.</t>

      <t>Users can experience both Inter and Intra Radio Access Technology (RAT) handovers
        (see <xref target="HO-def-3GPP"></xref> for the definition of "handover").</t>

      <t>Handover between cells or change of serving cells (as described in
        <xref target="HO-LTE-3GPP"></xref> and <xref target="HO-UMTS-3GPP"></xref>)
        might cause user plane interruptions which can lead to bursts of packet losses,
        delay and/or jitter. The exact behavior depends on the type of radio bearer.
        Typically, the default best-effort bearers do not generate packet loss, instead,
        packets are queued up and transmitted once the handover is completed.</t>

      <t>The network part decides how much the user can transmit.</t>

      <t>The cellular network has variable link capacity per user. 
        <list style="symbols">
        <t>It can vary as fast as a period of milliseconds.</t>

        <t>It depends on many factors (such as distance, speed, interference, different flows).</t>

        <t>It uses complex and smart link adaptation which makes the link behavior ever
          more dynamic.</t>

        <t>The scheduling priority depends on the estimated throughput.</t>
        </list>
      </t>

      <t>Both Quality of Service (QoS) and non-QoS radio bearers can be used.</t>
	  </list></t>

	<t>Hence, a real-time communication application operating over a cellular network needs
    to cope with a shared bottleneck link and variable link capacity, events like handover, non-congestion related loss, abrupt changes in bandwidth (both short term and long term)
    due to handover, network load and bad radio coverage. Even though 3GPP has defined QoS
    bearers <xref target="QoS-3GPP"></xref> to ensure high-quality user experience, it is
    still preferable for real-time applications to behave in an adaptive manner.  
	</t>

  <t>Different mobile operators deploy their own cellular networks with their own set of
    network functionalities and policies. Usually, a mobile operator network includes 2G,
    EDGE, 3G and 4G radio access technologies. Looking at the specifications of such radio
    technologies it is evident that only the more recent radio technologies can support the
    high bandwidth requirements from real-time interactive video applications. The future
    real-time interactive application will impose even greater demand on cellular network
    performance which makes 4G (and beyond) radio technologies more suitable for such genre
    of application.
  </t>

  <t>The key factors in defining test cases for cellular networks are: </t>

  <t><list style="symbols">
    <t>Shared and varying link capacity</t>
    <t>Mobility</t>
    <t>Handover</t>
  </list></t>
  
  <t>However, these factors are typically highly correlated in a cellular network.
  Therefore, instead of devising separate test cases for individual important events,
  we have divided the test case into two categories. It should be noted that the goal
  of the following test cases is to evaluate the performance of candidate algorithms
  over the radio interface of the cellular network. Hence it is assumed that the radio
  interface is the bottleneck link between the communicating peers and that the core
  network does not introduce any extra congestion along the path. Consequently, this draft
  has kept as out of scope the combination of multiple access technologies involving
  both cellular and Wi-Fi users. In this latter case the shared bottleneck is likely
  at the wired backhaul link. These test cases further assume a typical real-time
  telephony scenario where one real-time session consists of one voice stream and one
  video stream. </t>

	<t> Even though it is possible to carry out tests over operational cellular
	networks (e.g., LTE/5G), and actually such tests are already available today,
  these tests cannot in general be carried out in a deterministic fashion to
  ensure repeatability. The main reason is that these networks are controlled by
  cellular operators and there exist various amounts of competing traffic in the
  same cell(s). In practice, it is only in underground mines that one can carry
  out near deterministic testing. Even there, it is not guaranteed either as workers
  in the mines may carry with them their personal mobile phones. Furthermore, the
  underground mining setting may not reflect typical usage patterns in an urban
  setting. We, therefore, recommend that a cellular network simulator is used
  for the test cases defined in this document, for example -- the LTE simulator
  in <xref target="NS-3"></xref>. </t>

	<section anchor="VNL" title="Varying Network Load">

  <t>The goal of this test is to evaluate the performance of the candidate congestion
    control algorithm under varying network load. The network load variation is created
    by adding and removing network users a.k.a. User Equipments (UEs) during the simulation.
    In this test case, each user/UE in the media session is an endpoint following RTP-based
    congestion control. User arrivals follow a Poisson distribution proportional to the
    length of the call, to keep the number of users per cell fairly constant during the
    evaluation period. At the beginning of the simulation, there should be enough time to
    warm-up the network. This is to avoid running the evaluation in an empty network where
    network nodes are having empty buffers, low interference at the beginning of the simulation.
    This network initialization period should be excluded from the evaluation period.
  </t>

	<t>This test case also includes user mobility and some competing traffic. The latter
    includes both the same types of flows (with same adaptation algorithms) and different
    types of flows (with different services and congestion control schemes). The investigated
    congestion control algorithms should show maximum possible network utilization and
    stability in terms of rate variations, lowest possible end to end frame latency,
    network latency and Packet Loss Rate (PLR) at different cell load level.
  </t>

	<section anchor="NC-VNL" title="Network Connection">

  <t>Each mobile user is connected to a fixed user. The connection between the mobile user
    and fixed user consists of a cellular radio access, an Evolved Packet Core (EPC) and
    an Internet connection. The mobile user is connected to the EPC using cellular radio
    access technology which is further connected to the Internet. At the other end, the
    fixed user is connected to the Internet via wired connection with sufficiently high
    bandwidth, for instance, 10 Gbps, so that the system bottleneck is on the cellular
    radio access interface. The wired connection to in this setup does not introduce any
    network impairments to the test; it only adds 10 ms of one-way propagation delay.
  </t>

  <t>The path from the fixed user to the mobile users is defined as "Downlink" and the
    path from the mobile users to the fixed user is defined as "Uplink". We assume that
    only uplink or downlink is congested for mobile users. Hence, we recommend that the
    uplink and downlink simulations are run separately. 
  </t>

  <t>

    <figure align="center" anchor="fig-siml-topology" title="Simulation Topology">
      <artwork align="center" name="Simulation Topology"><![CDATA[
                       
                 uplink                     
++)))        +-------------------------->         
++-+      ((o))                                   
|  |       / \     +-------+     +------+    +---+
+--+      /   \----+       +-----+      +----+   |
         /     \   +-------+     +------+    +---+
 UE         BS        EPC        Internet    fixed
             <--------------------------+          
                      downlink                    
]]></artwork>
	 </figure></t>

  </section>

  <section anchor="SS-VNL" title="Simulation Setup">
	
	<t>The values enclosed within "[ ]" for the following simulation attributes
	follow the same notion as in <xref target="I-D.ietf-rmcat-eval-test"></xref>. 
	The desired simulation setup is as follows -- </t>
	
	<t><list style="numbers">	
	<t>Radio environment:
    <list style="letters">
    <t>Deployment and propagation model: 3GPP case 1 
      (see <xref target="HO-deploy-3GPP"></xref>)</t>
    
    <!-- [TODO] please define/explain what [2D, 3D] refer to -->
    <t>Antenna: Multiple-Input and Multiple-Output (MIMO), [2D, 3D]</t>
    
    <t>Mobility: [3km/h, 30km/h]</t>
    
    <t>Transmission bandwidth: 10Mhz</t>
    
    <t>Number of cells: multi-cell deployment 
      (3 Cells per Base Station (BS) * 7 BS) = 21 cells</t>
    
    <t>Cell radius: 166.666 Meters</t>
    
    <t>Scheduler: Proportional fair with no priority</t>

    <t>Bearer: Default bearer for all traffic.</t>

    <t>Active Queue Management (AQM) settings: AQM [on,off]</t>
    </list></t>

    <t>End-to-end Round Trip Time (RTT): [40ms, 150ms]</t>

    <t>User arrival model: Poisson arrival model</t>

    <t>User intensity:
	   <list style="symbols">
      <!-- [TODO] please explain/define what user intensity is, with what unit -->
      <t>Downlink user intensity: {0.7, 1.4, 2.1, 2.8, 3.5, 4.2,
            4.9, 5.6, 6.3, 7.0, 7.7, 8.4, 9,1, 9.8, 10.5}</t>

      <t>Uplink user intensity : {0.7, 1.4, 2.1, 2.8, 3.5, 4.2,
            4.9, 5.6, 6.3, 7.0}</t>
	    </list>
	</t>

	<t>Simulation duration: 91s</t>

  <t>Evaluation period: 30s-60s</t>
	
	<t>Media traffic:
    <list counter="reqs" style="numbers">
    <t>Media type: Video<list style="letters">
    <t>Media direction: [Uplink, Downlink]</t>
    <t>Number of Media source per user: One (1)</t>
    <t>Media duration per user: 30s</t>
    <t>Media source: same as defined in Section 4.3 of
      <xref target="I-D.ietf-rmcat-eval-test"></xref></t>
    </list>
  </t>

	<t>Media Type: Audio
    <list style="letters">
    <t>Media direction: Uplink and Downlink</t>
    <t>Number of Media source per user: One (1)</t>
    <t>Media duration per user: 30s</t>
    <t>Media codec: Constant Bit Rate (CBR)</t>
    <t>Media bitrate: 20 Kbps</t>
    <t>Adaptation: off</t>
    </list>
  </t>	
  </list></t>

	<t>Other traffic models:
    <list style="symbols">
    <t>Downlink simulation: Maximum of 4Mbps/cell (web browsing
      or FTP traffic following default TCP congestion control
      <xref target="RFC5681"/>)</t>

    <t>Unlink simulation: Maximum of 2Mbps/cell (web browsing
      or FTP traffic following default TCP congestion control
      <xref target="RFC5681"/>)</t>  
    </list>
  </t>
	</list></t>

  </section>
</section>

<section title="Bad Radio Coverage">
	      
  <t>The goal of this test is to evaluate the performance of candidate
    congestion control algorithm when users visit part of the network with
    bad radio coverage. The scenario is created by using a larger cell
    radius than that in the previous test case. In this test case, each
    user/UE in the media session is an RMCAT compliant endpoint. User arrivals
    follow a Poisson distribution proportional to the length of the call,
    to keep the number of users per cell fairly constant during the
    evaluation period. At the beginning of the simulation, there should be
    enough amount of time to warm-up the network. This is to avoid running
    the evaluation in an empty network where network nodes are having empty
    buffers, low interference at the beginning of the simulation. This network
    initialization period should be excluded from the evaluation period.</t>

  <t>This test case also includes user mobility and some competing traffic.
    The latter includes the same kind of flows (with same adaptation algorithms).
    The investigated congestion control algorithms should result in maximum
    possible network utilization and stability in terms of rate variations,
    lowest possible end to end frame latency, network latency and Packet Loss
    Rate (PLR) at different cell load levels.</t>

  <section title="Network connection">
          
    <t>Same as defined in <xref target="NC-VNL"></xref></t>
  
  </section>

	<section title="Simulation Setup">

    <t>The desired simulation setup is the same as the Varying Network Load
      test case defined in <xref target="VNL"></xref> except the following
      changes: 

      <list style="numbers">
      <t>Radio environment: Same as defined in <xref target="SS-VNL"></xref>
      except the following: 
        <list style="letters">
        <t>Deployment and propagation model: 3GPP case 3 
          (see <xref target="HO-deploy-3GPP"></xref>)</t>
        <t>Cell radius: 577.3333 Meters</t>
        <t>Mobility: 3km/h</t>
      </list></t>

      <t>User intensity = {0.7, 1.4, 2.1, 2.8, 3.5, 4.2, 4.9, 5.6, 6.3, 7.0}</t>

      <t>Media traffic model: Same as defined in <xref target="SS-VNL"></xref></t>

      <t>Other traffic models: 

        <list style="symbols">
          <t>Downlink simulation: Maximum of 2Mbps/cell (web browsing
            or FTP traffic following default TCP congestion control
            <xref target="RFC5681"/>)</t>

          <t>Unlink simulation: Maximum of 1Mbps/cell (web browsing
            or FTP traffic following default TCP congestion control
            <xref target="RFC5681"/>)</t>
        </list></t>
      </list></t>

	</section>    
</section>

<section title="Desired Evaluation Metrics for cellular test cases">


  <t>The evaluation criteria document <xref target="I-D.ietf-rmcat-eval-criteria"></xref>
  defines the metrics to be used to evaluate candidate algorithms. Considering
  the nature and distinction of cellular networks we recommend that at least the
	following metrics be used to evaluate the performance of the candidate algorithms: </t>

	<t>
    <list style="symbols">
    <t>Average cell throughput (for all cells), shows cell utilizations.</t>

    <t>Application sending and receiving bitrate, goodput.</t>

    <t>Packet Loss Rate (PLR).</t>

    <t>End-to-end Media frame delay. For video, this means the delay from capture to display.</t>

    <t>Transport delay.</t>

    <t>Algorithm stability in terms of rate variation.</t>
    </list></t>
    
</section>
</section>

<section title="Wi-Fi Networks Specific Test Cases">

<t>Given the prevalence of Internet access links over Wi-Fi, it is important to
  evaluate candidate RTP-based congestion control solutions over test cases that
  include Wi-Fi access links. Such evaluations should highlight the inherently
  different characteristics of Wi-Fi networks in contrast to their wired counterparts:</t>

  <t><list style="symbols">
  <t>The wireless radio channel is subject to interference from nearby transmitters,
    multipath fading, and shadowing. These effects lead to fluctuations in the link
    throughput and sometimes an error-prone communication environment.</t>

  <t>Available network bandwidth is not only shared over the air between concurrent
    users but also between uplink and downlink traffic due to the half-duplex nature
    of the wireless transmission medium.</t>

  <t>Packet transmissions over Wi-Fi are susceptible to contentions and collisions
    over the air. Consequently, traffic load beyond a certain utilization level over
    a Wi-Fi network can introduce frequent collisions over the air and significant
    network overhead, as well as packet drops due to buffer overflow at the transmitters.
    This, in turn, leads to excessive delay, retransmissions, packet losses and lower
    effective bandwidth for applications. Note further that the collision-induced delay
    and loss patterns are qualitatively different from those caused by congestion over
    a wired connection. </t>

  <t>The IEEE 802.11 standard (i.e., Wi-Fi) supports multi-rate transmission capabilities
    by dynamically choosing the most appropriate modulation and coding scheme (MCS) for
    the given received signal strength. A different choice in the MCS Index leads to
    different physical-layer (PHY-layer) link rates and consequently different
    application-layer throughput.</t>

  <t>The presence of legacy devices (e.g., ones operating only in IEEE 802.11b) at a much
    lower PHY-layer link rate can significantly slow down the rest of a modern Wi-Fi
    network. As discussed in <xref target="Heusse2003"></xref>, the main reason for
    such anomaly is that it takes much longer to transmit the same packet over a slower
    link than over a faster link, thereby consuming a substantial portion of air time.</t>

  <t>Handover from one Wi-Fi Access Point (AP) to another may lead to excessive packet
    delays and losses during the process.</t>

  <t>IEEE 802.11e has introduced the Enhanced Distributed Channel Access (EDCA)
    mechanism to allow different traffic categories to contend for channel access
    using different random back-off parameters. This mechanism is a mandatory requirement
    for the Wi-Fi Multimedia (WMM) certification in Wi-Fi Alliance. It allows for
    prioritization of real-time application traffic such as voice and video over
    non-urgent data transmissions (e.g., file transfer).</t>
  </list></t>

  <t>In summary, the presence of Wi-Fi access links in different network topologies
    can exert different impact on the network performance in terms of application-layer
    effective throughput, packet loss rate, and packet delivery delay. These, in turn,
    will influence the behavior of end-to-end real-time multimedia congestion control.</t>

  <t>Unless otherwise mentioned, the test cases in this section choose the PHY- and
    MAC-layer parameters based on the IEEE 802.11n Standard. Statistics collected from
    enterprise Wi-Fi networks show that the two dominant physical modes are 802.11n
    and 802.11ac, accounting for 41% and 58% of connected devices. As Wi-Fi standards
    evolve over time -- for instance, with the introduction of the emerging Wi-Fi 6
    (based on IEEE 802.11ax) products -- the PHY- and MAC-layer test case specifications
    need to be updated accordingly to reflect such changes.</t> 

  <t>Typically, a Wi-Fi access network connects to a wired infrastructure. Either
    the wired or the Wi-Fi segment of the network can be the bottleneck. The following
    sections describe basic test cases for both scenarios separately. The same set of
    performance metrics as in <xref target="I-D.ietf-rmcat-eval-test"></xref>) should
    be collected for each test case. </t>

  <t>We recommend to carry out the test cases as defined in this document using a simulator,
    such as <xref target="NS-2"></xref> or <xref target="NS-3"></xref>. When feasible, it
    is encouraged to perform testbed-based evaluations using Wi-Fi access points and
    endpoints running up-to-date IEEE 802.11 protocols, such as 802.11ac and the emerging
    Wi-Fi 6, so as to verify the viability of the candidate schemes.</t>

  <section anchor="sec-wired-bottleneck"
           title="Bottleneck in Wired Network">
	     
  <t>The test scenarios below are intended to mimic the setup of video conferencing
    over Wi-Fi connections from the home. Typically, the Wi-Fi home network is not
    congested and the bottleneck is present over the wired home access link. Although
    it is expected that test evaluation results from this section are similar to those
    as in <xref target="I-D.ietf-rmcat-eval-test"></xref>, it is still worthwhile to
    run through these tests as sanity checks.</t>

  <section anchor="sec-wifi-wired-bottleneck-topo"
          title="Network topology">

  <t><xref target="fig-wifi-test-topology"></xref> shows the network topology
  of Wi-Fi test cases. The test contains multiple mobile nodes (MNs) connected
  to a common Wi-Fi access point (AP) and their corresponding wired clients on
  fixed nodes (FNs). Each connection carries either a RTP-based media flow or
  a TCP traffic flow. Directions of the flows can be uplink (i.e., from mobile
  nodes to fixed nodes), downlink (i.e., from fixed nodes to mobile nodes), or
  bi-directional. The total number of uplink/downlink/bi-directional flows for
  RTP-based media traffic and TCP traffic are denoted as N and M, respectively.</t>

  <t><figure align="center"
             anchor="fig-wifi-test-topology"
             title="Network topology for Wi-Fi test cases">
	       
	<artwork align="center"
		 name="Network topology for Wi-Fi test cases"><![CDATA[

                             Uplink
                       +----------------->+
      +------+                                       +------+
      | MN_1 |))))                             /=====| FN_1 |
      +------+    ))                          //     +------+
          .        ))                        //         .    
          .         ))                      //          .    
          .          ))                    //           .    
      +------+         +----+         +-----+        +------+
      | MN_N | ))))))) |    |         |     |========| FN_N |
      +------+         |    |         |     |        +------+
                       | AP |=========| FN0 |
     +----------+      |    |         |     |      +----------+
     | MN_tcp_1 | )))) |    |         |     |======| FN_tcp_1 |
     +----------+      +----+         +-----+      +----------+
           .          ))                 \\             .    
           .         ))                   \\            .    
           .        ))                     \\           .    
     +----------+  ))                       \\     +----------+
     | MN_tcp_M |)))                         \=====| FN_tcp_M |
     +----------+                                  +----------+
                      +<-----------------+
                              Downlink
	]]></artwork>
    </figure></t>
    </section>


  <section title="Test setup">
	    
  <t><list style="symbols">
      <t>Test duration: 120s</t>
      <t>Wi-Fi network characteristics:
	    <list style="symbols">
        <t>Radio propagation model: Log-distance path loss propagation
          model (see <xref target="NS3WiFi"></xref>)</t>

        <t>PHY- and MAC-layer configuration: IEEE 802.11n</t>

        <t>MCS Index at 11:  16-QAM 1/2, Raw Data Rate at 52Mbps</t>
	    </list></t>

      <t>Wired path characteristics:
      <list style="symbols">
        <t>Path capacity: 1Mbps</t>
        <t>One-Way propagation delay: 50ms.</t>
        <t>Maximum end-to-end jitter: 30ms</t>
        <t>Bottleneck queue type: Drop tail.</t>
        <t>Bottleneck queue size: 300ms.</t>
        <t>Path loss ratio: 0%.</t>
      </list></t>

      <t>Application characteristics:
      <list style="symbols">
        <t>Media Traffic: 
          <list style="symbols">
          <t>Media type: Video</t>
          <t>Media direction: See <xref target="subsec-4-1-3"></xref></t>
          <t>Number of media sources (N): See <xref target="subsec-4-1-3"></xref></t>
          <t>Media timeline: 
            <list style="symbols">
            <t>Start time: 0s.</t>
            <t>End time: 119s.</t>
            </list></t>
          </list></t>

        <t>Competing traffic:
          <list style="symbols">
            <t>Type of sources: long-lived TCP or CBR over UDP</t>
            <t>Traffic direction: See <xref target="subsec-4-1-3"></xref></t>
            <t>Number of sources (M): See <xref target="subsec-4-1-3"></xref></t>
            <t>Congestion control: Default TCP congestion control <xref target="RFC5681"></xref>
                or constant-bit-rate (CBR) traffic over UDP.</t>
            <t>Traffic timeline:  See <xref target="subsec-4-1-3"></xref></t>
          </list></t>
        </list></t>
      </list></t>
    </section>

    <section anchor = "subsec-4-1-3"  title="Typical test scenarios">

    <t>
    <list style="symbols">
      <t>Single uplink RTP-based media flow: N=1 with uplink direction and M=0.</t>

      <t>One pair of bi-directional RTP-based media flows: N=2 (i.e., one uplink
        flow and one downlink flow); M=0.</t>

      <t>One pair of bi-directional RTP-based media flows: N=2; one uplink on-off
        CBR flow over UDP: M=1 (uplink). The CBR flow has ON time at t=0s-60s and
        OFF time at t=60s-119s.</t>

      <t>One pair of bi-directional RTP-based media flows: N=2; one uplink off-on
        CBR flow over UDP: M=1 (uplink). The CBR flow has OFF time at t=0s-60s and
        ON time at t=60s-119s.</t>

      <t>One RTP-based media flow competing against one long-live TCP flow in
        the uplink direction: N=1 (uplink) and M = 1(uplink). The TCP flow has
        start time at t=0s and end time at t=119s.</t>
    </list></t>
        
    </section>

    <section title="Expected behavior">

    <t><list style="symbols">
      <t>Single uplink RTP-based media flow: the candidate algorithm is expected
        to detect the path capacity constraint, to converge to the bottleneck link
        capacity, and to adapt the flow to avoid unwanted oscillations when the
        sending bit rate is approaching the bottleneck link capacity. No excessive
        oscillations in the media rate should be present.</t>

      <t>Bi-directional RTP-based media flows: the candidate algorithm is expected
        to converge to the bottleneck capacity of the wired path in both directions
        despite the presence of measurement noise over the Wi-Fi connection. In the
        presence of background TCP or CBR over UDP traffic, the rate of RTP-based media
        flows should adapt promptly to the arrival and departure of background
        traffic flows.</t>

      <t>One RTP-based media flow competing with long-live TCP flow in the uplink
        direction: the candidate algorithm is expected to avoid congestion collapse
        and to stabilize at a fair share of the bottleneck link capacity.</t>
    </list></t>

	 </section>

  </section>

  <section title="Bottleneck in Wi-Fi Network">
		
	<t>The test cases in this section assume that the wired segment along the
    media path is well-provisioned whereas the bottleneck exists over the
    Wi-Fi access network. This is to mimic the application scenarios typically
    encountered by users in an enterprise environment or at a coffee house.</t>

    <section title="Network topology">

    <t>Same as defined in <xref target="sec-wifi-wired-bottleneck-topo"></xref></t>

    </section>

    <section title="Test setup">

    <t><list style="symbols">
      <t>Test duration: 120s</t>
      <t>Wi-Fi network characteristics:
        <list style="symbols">
        <t>Radio propagation model: Log-distance path loss propagation
          model (see <xref target="NS3WiFi"></xref>)</t>

        <t>PHY- and MAC-layer configuration: IEEE 802.11n</t>

        <t>MCS Index at 11:  16-QAM 1/2, Raw Data Rate at 52Mbps</t>

       	</list></t>

      <t>Wired path characteristics:
        <list style="symbols">
        <t>Path capacity: 100Mbps.</t>
        <t>One-Way propagation delay: 50ms.</t>
        <t>Maximum end-to-end jitter: 30ms.</t>
        <t>Bottleneck queue type: Drop tail.</t>
        <t>Bottleneck queue size: 300ms.</t>
        <t>Path loss ratio: 0%.</t>
        </list></t>

      <t>Application characteristics:
        <list style="symbols">
        <t>Media Traffic:
          <list style="symbols">
          <t>Media type: Video</t>
          <t>Media direction: See <xref target="subsec-4-2-3"></xref>.</t>
          <t>Number of media sources (N): See <xref target="subsec-4-2-3"></xref>.</t>

          <t>Media timeline:
            <list style="symbols">
            <t>Start time: 0s.</t>
            <t>End time: 119s.</t>
            </list></t>
          </list></t>

          <t>Competing traffic:
            <list style="symbols">
            <t>Type of sources: long-lived TCP or CBR over UDP.</t>
            <t>Number of sources (M): See <xref target="subsec-4-2-3"></xref>.</t>
            <t>Traffic direction: See <xref target="subsec-4-2-3"></xref>.</t>
            <t>Congestion control: Default TCP congestion control <xref target="RFC5681"/>
                or constant-bit-rate (CBR) traffic over UDP.</t>
            <t>Traffic timeline: See <xref target="subsec-4-2-3"></xref>.</t>	
            </list></t>
          </list></t>
        </list></t>
  </section>

  <section anchor = "subsec-4-2-3"  title="Typical test scenarios">

	<t>This section describes a few test scenarios that are deemed as important for
    understanding the behavior of a candidate RTP-based congestion control scheme
    over a Wi-Fi network. </t>
	  
	<t><list style="letters">
    <t>Multiple RTP-based media flows sharing the wireless downlink: N=16 (all downlink);
      M = 0. This test case is for studying the impact of contention on the multiple
      concurrent media flows. For an 802.11n network, given the MCS Index of 11 and the
      corresponding link rate of 52Mbps, the total application-layer throughput (assuming
      reasonable distance, low interference and infrequent contentions caused by competing
      streams) is around 20Mbps. A total of N=16 RTP-based media flows (with a maximum
      rate of 1.5Mbps each) are expected to saturate the wireless interface in this experiment.
      Evaluation of a given candidate scheme should focus on whether the downlink media
      flows can stabilize at a fair share of the total application-layer throughput.</t>

    <t>Multiple RTP-based media flows sharing the wireless uplink:N = 16 (all downlink);
      M = 0. When multiple clients attempt to transmit media packets uplink over the
      Wi-Fi network, they introduce more frequent contentions and potential collisions.
      Per-flow throughput is expected to be lower than that in the previous downlink-only
      scenario. Evaluation of a given candidate scheme should focus on whether the uplink
      flows can stabilize at a fair share of the total application-layer throughput.</t>

    <t>Multiple bi-directional RTP-based media flows: N = 16 (8 uplink and 8 downlink);
      M = 0.  The goal of this test is to evaluate the performance of the candidate scheme
      in terms of bandwidth fairness between uplink and downlink flows.</t>

    <t>Multiple bi-directional RTP-based media flows with on-off CBR traffic over UDP:
      N = 16 (8 uplink and 8 downlink); M = 5 (uplink). The goal of this test is to evaluate
      the adaptation behavior of the candidate scheme when its available bandwidth changes
      due to the departure of background traffic. The background traffic consists of several
      (e.g., M=5) CBR flows transported over UDP. These background flows are ON at time
      t=0-60s and OFF at time t=61-120s.</t>

    <t>Multiple bi-directional RTP-based media flows with off-on CBR traffic over UDP:
      N = 16 (8 uplink and 8 downlink); M = 5 (uplink). The goal of this test is to evaluate
      the adaptation behavior of the candidate scheme when its available bandwidth changes
      due to the arrival of background traffic. The background traffic consists of several
      (e.g., M=5) parallel CBR flows transported over UDP. These background flows are OFF at
      time t=0-60s and ON at times t=61-120s.</t>

    <t>Multiple bi-directional RTP-based media flows in the presence of background TCP traffic:
      N=16 (8 uplink and 8 downlink); M = 5 (uplink). The goal of this test is to evaluate how
      RTP-based media flows compete against TCP over a congested Wi-Fi network for a given
      candidate scheme.  TCP flows have start time at t=40s and end time at t=80s. </t>

    <t>Varying number of RTP-based media flows: A series of tests can be carried out for the
      above test cases with different values of N, e.g., N = [4, 8, 12, 16, 20]. The goal of
      this test is to evaluate how a candidate scheme responds to varying traffic load/demand
      over a congested Wi-Fi network. The start times of the media flows are randomly distributes
      within a window of t=0-10s; their end times are randomly distributed within a window of
      t=110-120s. </t> 
	    
	</list></t>
  </section>

	<section title="Expected behavior">

	<t><list style="symbols">
    <t>Multiple downlink RTP-based media flows: each media flow is expected to get
    	its fair share of the total bottleneck link bandwidth. Overall bandwidth usage
      should not be significantly lower than that experienced by the same number of
      concurrent downlink TCP flows. In other words, the behavior of multiple concurrent
      TCP flows will be used as a performance benchmark for this test scenario. The
      end-to-end delay and packet loss ratio experienced by each flow should be within
      an acceptable range for real-time multimedia applications.</t>

    <t>Multiple uplink RTP-based media flows: overall bandwidth usage by all media flows
      should not be significantly lower than that experienced by the same number of concurrent
      uplink TCP flows. In other words, the behavior of multiple concurrent TCP flows
      will be used as a performance benchmark for this test scenario.</t>

    <t>Multiple bi-directional RTP-based media flows with dynamic background traffic
      carrying CBR flows over UDP: the media flows are expected to adapt in a timely
      fashion to the changes in available bandwidth introduced by the arrival/departure
      of background traffic.</t>

    <t>Multiple bi-directional RTP-based media flows with dynamic background traffic
      over TCP: during the presence of TCP background flows, the overall bandwidth usage
      by all media flows should not be significantly lower than those achieved by the
      same number of bi-directional TCP flows. In other words, the behavior of multiple
    	concurrent TCP flows will be used as a performance benchmark for this test scenario.
      All downlink media flows are expected to obtain similar bandwidth as each other.
      The throughput of each media flow is expected to decrease upon the arrival of TCP
      background traffic and, conversely, increase upon their departure. Both reactions
      should occur in a timely fashion, for example, within 10s of seconds.</t>

    <t>Varying number of bi-directional RTP-based media flows: the test results for
      varying values of N -- while keeping all other parameters constant -- is expected
      to show steady and stable per-flow throughput for each value of N. The average
      throughput of all media flows is expected to stay constant around the maximum rate
      when N is small, then gradually decrease with increasing value of N till it reaches
      the minimum allowed rate, beyond which the offered load to the Wi-Fi network exceeds
      its capacity (i.e., with a very large value of N).</t>

    </list></t>
    </section>

</section>
 
<section title="Other Potential Test Cases">

  <section anchor="sec-edca-wmm-usage" title="EDCA/WMM usage">

  <t>The EDCA/WMM mechanism defines prioritized QoS for four traffic classes
    (or Access Categories). RTP-based real-time media flows should achieve better
    performance in terms of lower delay and fewer packet losses with EDCA/WMM
    enabled when competing against non-interactive background traffic such as file
    transfers. When most of the traffic over Wi-Fi is dominated by media, however,
    turning on WMM may degrade performance since all media flows now attempt
    to access the wireless transmission medium more aggressively, thereby causing
    more frequent collisions and collision-induced losses. This is a topic worthy
    of further investigation.</t>

  </section> 

  <section anchor="sec-legacy-effects" title="Effect of heterogeneous link rates">

  <t>As discussed in <xref target="Heusse2003"></xref>, the presence of clients
  operating over slow PHY-layer link rates (e.g., a legacy 802.11b device) connected
  to a modern network may adversely impact the overall performance of the network.
  Additional test cases can be devised to evaluate the effect of clients with heterogeneous
  link rates on the performance of the candidate congestion control algorithm. Such
  test cases, for instance, can specify that the PHY-layer link rates for all clients
  span over a wide range (e.g., 2Mbps to 54Mbps) for investigating its effect on the
  congestion control behavior of the real-time interactive applications.</t>
	
  </section>

</section>
    
</section>

<section anchor="IANA" title="IANA Considerations">
	    
<t>This memo includes no request to IANA.</t>

</section>

<section anchor="Security" title="Security Considerations">
	   
  <t>The security considerations in <xref target="I-D.ietf-rmcat-eval-criteria"></xref>
    and the relevant congestion control algorithms apply.  The principles for congestion
    control are described in <xref target="RFC2914"></xref>, and in particular, any new
    method MUST implement safeguards to avoid congestion collapse of the Internet.</t>

  <t>The evaluations of the test cases are intended to carry out in a controlled lab
    environment.  Hence, the applications, simulators and network nodes ought to be
    well-behaved and should not impact the desired results.  It is important to take
    appropriate caution to avoid leaking non-responsive traffic with unproven congestion
    avoidance behavior onto the open Internet.</t>

</section>
    
<section anchor="Acknowledgments" title="Acknowledgments">
	    
  <t>The authors would like to thank Tomas Frankkila, Magnus Westerlund,
    Kristofer Sandlund, Sergio Mena de la Cruz, and Mirja Kuehlewind for their
    valuable inputs and review comments regarding this draft.</t>

</section>
  
</middle>

<!--  *****BACK MATTER ***** -->
<back>
<!-- References split into informative and normative -->

    <!-- There are 2 ways to insert reference entries from the citation libraries:
     1. define an ENTITY at the top, and use "ampersand character"RFC2629; here (as shown)
     2. simply use a PI "less than character"?rfc include="reference.RFC.2119.xml"?> here
        (for I-Ds: include="reference.I-D.narten-iana-considerations-rfc2434bis.xml")

     Both are cited textually in the same manner: by using xref elements.
     If you use the PI option, xml2rfc will, by default, try to find included files in the same
     directory as the including file. You can also define the XML_LIBRARY environment variable
     with a value containing a set of directories to search.  These can be either in the local
     filing system or remote ones accessed by http (http://domain/dir/... ).-->

    <references title="Normative References">

      <!--?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml"?-->

      <?rfc include='reference.RFC.2119.xml'?>
      <?rfc include='reference.RFC.5681.xml'?>
      <?rfc include='reference.RFC.8174.xml'?>
    
      <?rfc include='reference.I-D.ietf-rmcat-eval-criteria.xml'?>

      <?rfc include='reference.I-D.ietf-rmcat-eval-test.xml'?>

      <reference anchor="HO-deploy-3GPP"
                 target="http://www.3gpp.org/ftp/specs/archive/25_series/25.814/25814-710.zip">
        <front>
          <title>Physical layer aspects for evolved Universal Terrestrial
          Radio Access (UTRA)</title>

          <author fullname="3GPP R1" initials="3GPP" surname="TS 25.814">
            <organization></organization>
          </author>

          <date month="October" year="2006" />
        </front>
      </reference>

      <reference anchor="IEEE802.11">
        <front>
          <title>Standard for Information technology--Telecommunications and
          information exchange between systems Local and metropolitan area
          networks--Specific requirements Part 11: Wireless LAN Medium Access
          Control (MAC) and Physical Layer (PHY) Specifications</title>

          <author fullname="IEEE">
            <organization></organization>
          </author>

          <date year="2012" />
        </front>
      </reference>

      <reference anchor="NS3WiFi"
                 target="https://www.nsnam.org/doxygen/classns3_1_1_yans_wifi_channel.html">
        <front>
          <title>Wi-Fi Channel Model in ns-3 Simulator</title>

          <author></author>

          <date />
        </front>
      </reference>
    </references>

    <references title="Informative References">
      <!-- Here we use entities that we defined at the beginning. -->

      <!-- A reference written by by an organization not a person. -->

      <?rfc include='reference.RFC.2914.xml'?>
      <?rfc include='reference.I-D.ietf-rmcat-cc-requirements.xml'?>

      <reference anchor="HO-def-3GPP"
                 target="http://www.3gpp.org/ftp/specs/archive/21_series/21.905/21905-940.zip">
        <front>
          <title>Vocabulary for 3GPP Specifications</title>

          <author fullname="3GPP SA" initials="3GPP" surname="TR 21.905">
            <organization>3GPP</organization>
          </author>

          <date month="December" year="2009" />
        </front>
      </reference>

      <reference anchor="HO-LTE-3GPP"
                 target="http://www.3gpp.org/ftp/specs/archive/36_series/36.331/36331-990.zip">
        <front>
          <title>E-UTRA- Radio Resource Control (RRC); Protocol
          specification</title>

          <author fullname="3GPP R2" initials="3GPP" surname="TS 36.331">
            <organization>3GPP</organization>
          </author>

          <date month="December" year="2011" />
        </front>
      </reference>

      <reference anchor="HO-UMTS-3GPP"
                 target="http://www.3gpp.org/ftp/specs/archive/25_series/25.331/25331-990.zip">
        <front>
          <title>Radio Resource Control (RRC); Protocol specification</title>

          <author fullname="3GPP R2" initials="3GPP" surname="TS 25.331">
            <organization>3GPP</organization>
          </author>

          <date month="December" year="2011" />
        </front>
      </reference>

      <reference anchor="QoS-3GPP"
                 target="http://www.3gpp.org/ftp/specs/archive/23_series/23.203/23203-990.zip">
        <front>
          <title>Policy and charging control architecture</title>

          <author fullname="3GPP S2" initials="3GPP" surname="TS 23.203">
            <organization></organization>
          </author>

          <date month="June" year="2011" />
        </front>
      </reference>

      <reference anchor="NS-2" target="http://nsnam.sourceforge.net/wiki/index.php/Main_Page">
        <front>
          <title>ns-2</title>

          <author>
            <organization></organization>
          </author>
          <date month="December" year="2014"/>
        </front>
      </reference>

      <reference anchor="NS-3" target="https://www.nsnam.org/">
        <front>
          <title>ns-3 Network Simulator</title>

          <author>
            <organization></organization>
          </author>
          <date />
        </front>
      </reference>

      <reference anchor="Heusse2003" target="">
        <front>
          <title>Performance anomaly of 802.11b</title>

         <author fullname="Martin Heusse" initials="M." surname="Heusse">
            <organization></organization>
          </author>

          <author fullname="Franck Rousseau" initials="F." surname="Rousseau">
            <organization></organization>
          </author>

          <author fullname="Gilles Berger-Sabbatel" initials="G." surname="Berger-Sabbatel">
            <organization></organization>
          </author>

          <author fullname="Andrzej Duda" initials="A." surname="Duda">
            <organization></organization>
          </author>
	  <date month="March" year="2003"/>

  </front>
	   <seriesInfo
        name="in Proc. 23th Annual Joint Conference of the IEEE Computer and Communications Societies,"
	value = "(INFOCOM'03)"/>

      </reference>
    </references>

  </back>
</rfc>
